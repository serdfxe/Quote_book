<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Поиск</title>
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
</head>
<style>
    H2 {
        font-family: 'Montserrat';
        font-size:30px;
        color: #222222;
        transition: all 1s;
    }

    H3{
        font-family: 'Montserrat';
        font-size:20px;
        color: #404040;
        transition: all 1s;
    }

    .main {
        margin-left: 160px; /* Same as the width of the sidenav */
        font-size: 28px; /* Increased text to enable scrolling */
        padding: 0px 10px;
    }

    .aligncenter {
        text-align: center;
    }

    mark{
        background: #DBEFED;
    }

</style>
{{ nav_style | safe}}

<script>
    function mark_like(like){
        if(like.src == "https://s3.timeweb.com/cc41600-sheeesh-shearcher/main/marked_like.svg"){
            like.src = "https://s3.timeweb.com/cc41600-sheeesh-shearcher/main/like.svg"
        }else{
            like.src = "https://s3.timeweb.com/cc41600-sheeesh-shearcher/main/marked_like.svg"
        }
        
    }
</script>
<body>
    {{ navbar | safe}}

    <div class="main"> 
        <p class="aligncenter">
            <img src="https://s3.timeweb.com/cc41600-sheeesh-shearcher/home/head_home.svg", style="margin: auto;">
        </p>

        <form action="http://127.0.0.1:5000/search", method="post", class="aligncenter">
            <input type="image", src="https://s3.timeweb.com/cc41600-sheeesh-shearcher/home/search.svg", style="position: relative; width: 300px; left: 100px">
            <input type="text", name="query", id='1', src="https://s3.timeweb.com/cc41600-sheeesh-shearcher/home/search.svg", style="resize: none; position: relative; left: -200px; width: 200px; height: 23px; bottom: 22px;">
            <input type="hidden" name="action" value="search">
        </form>  

        <p class="aligncenter">
            {% block content %}
            <ul>
                {% for quote in results %}
                <p>
                    <img src="https://s3.timeweb.com/cc41600-sheeesh-shearcher/main/seporator.svg", style="width: 400px; left: 10px; position: relative;">
                    <h2>{{quote['body'] | safe}}</h2>
                    <h3>{{quote['author'] | safe}}</h3>
                    <form action="http://127.0.0.1:5000/search", method="post">
                        <input type="hidden", name="quoteID", value="{{quote['id']}}">
                        <input type="hidden", name="query", value='{{query}}'>
                        {% if quote["id"] in likes %}
                            <input type="hidden", name="action", value="remove">
                            <input type="image", class="like", src="https://s3.timeweb.com/cc41600-sheeesh-shearcher/main/marked_like.svg", onclick='mark_like(this)'>
                        {% else %}
                            <input type="hidden", name="action", value="add">   
                            <input type="image", class="like", src="https://s3.timeweb.com/cc41600-sheeesh-shearcher/main/like.svg", onclick='mark_like(this)'>
                        {% endif %}
                    </form>
                    
                </p>
                {% endfor %}
            </ul>
            {% endblock %}
        </p>
        
    </div>
</body>
</html>
